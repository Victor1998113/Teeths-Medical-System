{"remainingRequest":"D:\\toolOfjava\\factoryFront\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\toolOfjava\\factoryFront\\front\\src\\axios.js","dependencies":[{"path":"D:\\toolOfjava\\factoryFront\\front\\src\\axios.js","mtime":1627884533793},{"path":"D:\\toolOfjava\\factoryFront\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\toolOfjava\\factoryFront\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi9yb3V0ZXIiOwppbXBvcnQgRWxlbWVudCBmcm9tICJlbGVtZW50LXVpIjsKYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICJodHRwOi8vbG9jYWxob3N0OjkwMDAiOwp2YXIgcmVxdWVzdCA9IGF4aW9zLmNyZWF0ZSh7CiAgdGltZW91dDogNjAwMCwKICBoZWFkZXJzOiB7CiAgICAnQ29udGVudC1UeXBlJzogImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgiCiAgfQp9KTsKcmVxdWVzdC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIGNvbmZpZy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKICByZXR1cm4gY29uZmlnOwp9KTsKcmVxdWVzdC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIGNvbnNvbGUubG9nKCJyZXNwb25zZSAtPiIgKyByZXNwb25zZSk7CiAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogIHZhciByZXMgPSByZXNwb25zZS5kYXRhOwoKICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0gZWxzZSB7CiAgICBFbGVtZW50Lk1lc3NhZ2UuZXJyb3IoIXJlcy5tc2cgPyAn57O757uf5byC5bi4JyA6IHJlcy5tc2cpOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlLmRhdGEubXNnKTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKGVycm9yKTsKCiAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgIGVycm9yLm1hc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1zZzsKICB9CgogIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgcm91dGVyLnB1c2goIi9sb2dpbiIpOwogIH0KCiAgRWxlbWVudC5NZXNzYWdlLmVycm9yKGVycm9yLm1hc3NhZ2UsIHsKICAgIGR1cmF0aW9uOiAzMDAwCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJlcXVlc3Q7"},{"version":3,"sources":["D:/toolOfjava/factoryFront/front/src/axios.js"],"names":["axios","router","Element","defaults","baseURL","request","create","timeout","headers","interceptors","use","config","localStorage","getItem","response","console","log","res","data","code","Message","error","msg","Promise","reject","massage","status","push","duration"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,OAAP,MAAoB,YAApB;AAEAF,KAAK,CAACG,QAAN,CAAeC,OAAf,GAAyB,uBAAzB;AAEA,IAAMC,OAAO,GAAGL,KAAK,CAACM,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAE,IADgB;AAEzBC,EAAAA,OAAO,EAAE;AACL,oBAAgB;AADX;AAFgB,CAAb,CAAhB;AAOAH,OAAO,CAACI,YAAR,CAAqBJ,OAArB,CAA6BK,GAA7B,CAAiC,UAAAC,MAAM,EAAI;AACvCA,EAAAA,MAAM,CAACH,OAAP,CAAe,eAAf,IAAkCI,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAlC;AACA,SAAOF,MAAP;AACH,CAHD;AAKAN,OAAO,CAACI,YAAR,CAAqBK,QAArB,CAA8BJ,GAA9B,CACI,UAAAI,QAAQ,EAAI;AAERC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBF,QAA5B;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,MAAIG,GAAG,GAAGH,QAAQ,CAACI,IAAnB;;AAEA,MAAID,GAAG,CAACE,IAAJ,KAAa,GAAjB,EAAsB;AAClB,WAAOL,QAAP;AACH,GAFD,MAEO;AACHZ,IAAAA,OAAO,CAACkB,OAAR,CAAgBC,KAAhB,CAAsB,CAACJ,GAAG,CAACK,GAAL,GAAW,MAAX,GAAoBL,GAAG,CAACK,GAA9C;AACA,WAAOC,OAAO,CAACC,MAAR,CAAeV,QAAQ,CAACI,IAAT,CAAcI,GAA7B,CAAP;AACH;AACJ,CAbL,EAcI,UAAAD,KAAK,EAAI;AAELN,EAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;;AAEA,MAAIA,KAAK,CAACP,QAAN,CAAeI,IAAnB,EAAyB;AACrBG,IAAAA,KAAK,CAACI,OAAN,GAAgBJ,KAAK,CAACP,QAAN,CAAeI,IAAf,CAAoBI,GAApC;AACH;;AAED,MAAID,KAAK,CAACP,QAAN,CAAeY,MAAf,KAA0B,GAA9B,EAAmC;AAC/BzB,IAAAA,MAAM,CAAC0B,IAAP,CAAY,QAAZ;AACH;;AAEFzB,EAAAA,OAAO,CAACkB,OAAR,CAAgBC,KAAhB,CAAsBA,KAAK,CAACI,OAA5B,EAAqC;AAACG,IAAAA,QAAQ,EAAE;AAAX,GAArC;AACC,SAAOL,OAAO,CAACC,MAAR,CAAeH,KAAf,CAAP;AACH,CA5BL;AA+BA,eAAehB,OAAf","sourcesContent":["import axios from \"axios\";\r\nimport router from \"./router\";\r\nimport Element from \"element-ui\"\r\n\r\naxios.defaults.baseURL = \"http://localhost:9000\"\r\n\r\nconst request = axios.create({\r\n    timeout: 6000,\r\n    headers: {\r\n        'Content-Type': \"application/json; charset=utf-8\"\r\n    }\r\n})\r\n\r\nrequest.interceptors.request.use(config => {\r\n    config.headers['Authorization'] = localStorage.getItem(\"token\")\r\n    return config\r\n})\r\n\r\nrequest.interceptors.response.use(\r\n    response => {\r\n\r\n        console.log(\"response ->\" + response)\r\n        console.log(response)\r\n        let res = response.data\r\n\r\n        if (res.code === 200) {\r\n            return response\r\n        } else {\r\n            Element.Message.error(!res.msg ? '系统异常' : res.msg)\r\n            return Promise.reject(response.data.msg)\r\n        }\r\n    },\r\n    error => {\r\n\r\n        console.log(error)\r\n\r\n        if (error.response.data) {\r\n            error.massage = error.response.data.msg\r\n        }\r\n\r\n        if (error.response.status === 401) {\r\n            router.push(\"/login\")\r\n        }\r\n\r\n       Element.Message.error(error.massage, {duration: 3000})\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\nexport default request"]}]}